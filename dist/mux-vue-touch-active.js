!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.MuxVueTouchActive=e():t.MuxVueTouchActive=e()}(window,function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var s=e[o]={i:o,l:!1,exports:{}};return t[o].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(o,s,function(e){return t[e]}.bind(null,s));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s="./src/index.js")}({"./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/stylus-loader/index.js!./node_modules/vue-loader/lib/index.js?!./src/components/touchActive.vue?vue&type=style&index=0&lang=stylus&":function(t,e,n){(t.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([t.i,"\n.c-touchable-feedback {\n  position: relative;\n  user-select: none !important;\n}\n.c-touchable-feedback-no-default {\n  -webkit-tap-highlight-color: rgba(0,0,0,0) !important;\n}\n.c-touchable-feedback-no-default * {\n  -webkit-tap-highlight-color: rgba(0,0,0,0) !important;\n}\n.c-touchable-feedback-expand {\n  position: absolute;\n  z-index: 0;\n}\n.c-touchable-feedback-content {\n  position: relative;\n  z-index: 1;\n  height: 100%;\n}\n",""])},"./node_modules/css-loader/lib/css-base.js":function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",o=t[3];if(!o)return n;if(e&&"function"==typeof btoa){var s=function(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}(o),r=o.sources.map(function(t){return"/*# sourceURL="+o.sourceRoot+t+" */"});return[n].concat(r).concat([s]).join("\n")}return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var o={},s=0;s<this.length;s++){var r=this[s][0];"number"==typeof r&&(o[r]=!0)}for(s=0;s<t.length;s++){var i=t[s];"number"==typeof i[0]&&o[i[0]]||(n&&!i[2]?i[2]=n:n&&(i[2]="("+i[2]+") and ("+n+")"),e.push(i))}},e}},"./node_modules/style-loader/index.js!./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/stylus-loader/index.js!./node_modules/vue-loader/lib/index.js?!./src/components/touchActive.vue?vue&type=style&index=0&lang=stylus&":function(t,e,n){var o=n("./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/stylus-loader/index.js!./node_modules/vue-loader/lib/index.js?!./src/components/touchActive.vue?vue&type=style&index=0&lang=stylus&");"string"==typeof o&&(o=[[t.i,o,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(o,s);o.locals&&(t.exports=o.locals)},"./node_modules/style-loader/lib/addStyles.js":function(t,e,n){var o={},s=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),r=function(t){var e={};return function(t){if("function"==typeof t)return t();if(void 0===e[t]){var n=function(t){return document.querySelector(t)}.call(this,t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}}(),i=null,a=0,l=[],u=n("./node_modules/style-loader/lib/urls.js");function c(t,e){for(var n=0;n<t.length;n++){var s=t[n],r=o[s.id];if(r){r.refs++;for(var i=0;i<r.parts.length;i++)r.parts[i](s.parts[i]);for(;i<s.parts.length;i++)r.parts.push(v(s.parts[i],e))}else{var a=[];for(i=0;i<s.parts.length;i++)a.push(v(s.parts[i],e));o[s.id]={id:s.id,refs:1,parts:a}}}}function d(t,e){for(var n=[],o={},s=0;s<t.length;s++){var r=t[s],i=e.base?r[0]+e.base:r[0],a={css:r[1],media:r[2],sourceMap:r[3]};o[i]?o[i].parts.push(a):n.push(o[i]={id:i,parts:[a]})}return n}function h(t,e){var n=r(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=l[l.length-1];if("top"===t.insertAt)o?o.nextSibling?n.insertBefore(e,o.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),l.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var s=r(t.insertInto+" "+t.insertAt.before);n.insertBefore(e,s)}}function p(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=l.indexOf(t);e>=0&&l.splice(e,1)}function f(t){var e=document.createElement("style");return t.attrs.type="text/css",m(e,t.attrs),h(t,e),e}function m(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function v(t,e){var n,o,s,r;if(e.transform&&t.css){if(!(r=e.transform(t.css)))return function(){};t.css=r}if(e.singleton){var l=a++;n=i||(i=f(e)),o=y.bind(null,n,l,!1),s=y.bind(null,n,l,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",m(e,t.attrs),h(t,e),e}(e),o=function(t,e,n){var o=n.css,s=n.sourceMap,r=void 0===e.convertToAbsoluteUrls&&s;(e.convertToAbsoluteUrls||r)&&(o=u(o));s&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */");var i=new Blob([o],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(i),a&&URL.revokeObjectURL(a)}.bind(null,n,e),s=function(){p(n),n.href&&URL.revokeObjectURL(n.href)}):(n=f(e),o=function(t,e){var n=e.css,o=e.media;o&&t.setAttribute("media",o);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),s=function(){p(n)});return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else s()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=s()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=d(t,e);return c(n,e),function(t){for(var s=[],r=0;r<n.length;r++){var i=n[r];(a=o[i.id]).refs--,s.push(a)}t&&c(d(t,e),e);for(r=0;r<s.length;r++){var a;if(0===(a=s[r]).refs){for(var l=0;l<a.parts.length;l++)a.parts[l]();delete o[a.id]}}}};var b=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}();function y(t,e,n,o){var s=n?"":o.css;if(t.styleSheet)t.styleSheet.cssText=b(e,s);else{var r=document.createTextNode(s),i=t.childNodes;i[e]&&t.removeChild(i[e]),i.length?t.insertBefore(r,i[e]):t.appendChild(r)}}},"./node_modules/style-loader/lib/urls.js":function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,o=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var s,r=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?t:(s=0===r.indexOf("//")?r:0===r.indexOf("/")?n+r:o+r.replace(/^\.\//,""),"url("+JSON.stringify(s)+")")})}},"./src/components/touchActive.vue?vue&type=style&index=0&lang=stylus&":function(t,e,n){"use strict";var o=n("./node_modules/style-loader/index.js!./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/stylus-loader/index.js!./node_modules/vue-loader/lib/index.js?!./src/components/touchActive.vue?vue&type=style&index=0&lang=stylus&");n.n(o).a},"./src/index.js":function(t,e,n){"use strict";n.r(e);var o={name:"touchActive",props:{open:{type:Boolean(),default:!0},top:{type:Number,default:0},right:{type:Number,default:0},bottom:{type:Number,default:0},left:{type:Number,default:0},borderRadius:{type:String,default:"0"},backgroundColor:{type:String,default:"rgba(0, 0, 0, .05)"},expand:{type:Boolean,default:!1},self:{type:Boolean,default:!0},url:{type:String,default:""},urlParams:{type:Object,default:()=>{}}},computed:{cTop(){return this.top+"px"},cRight(){return this.right+"px"},cBottom(){return this.bottom+"px"},cLeft(){return this.left+"px"},position(){return`${this.top}px,${this.right}px,${this.bottom}px,${this.left}px`},tcUrl(){return this.urlParams&&this.urlParams.tcUrl?this.urlParams.tcUrl:this.url}}};n("./src/components/touchActive.vue?vue&type=style&index=0&lang=stylus&");function s(t,e,n,o,s,r,i,a){var l,u="function"==typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=n,u._compiled=!0),o&&(u.functional=!0),r&&(u._scopeId="data-v-"+r),i?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(i)},u._ssrRegister=l):s&&(l=a?function(){s.call(this,this.$root.$options.shadowRoot)}:s),l)if(u.functional){u._injectStyles=l;var c=u.render;u.render=function(t,e){return l.call(e),c(t,e)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:u}}var r=s(o,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"c-touchable-feedback c-touchable-feedback-no-default",attrs:{"rl-node":t.open?"":null,"rl-type":t.open&&!t.tcUrl?"button":null,"rl-highlight-position":t.open?t.position:null,"rl-highlight-color":t.open?t.backgroundColor:null,"rl-highlight-radius":t.open?t.borderRadius:null,"rl-highlight-self":t.open&&t.self?"":null,"rl-link-href":t.open?t.tcUrl:null},on:{click:function(e){t.$emit("clickLink")}}},[t.expand?n("div",{staticClass:"c-touchable-feedback-content"},[t._t("default")],2):[t._t("default")],t._v(" "),t.open&&t.expand?n("div",{staticClass:"c-touchable-feedback-expand",style:{top:t.cTop,right:t.cRight,bottom:t.cBottom,left:t.cLeft}}):t._e()],2)},[],!1,null,null,null);r.options.__file="touchActive.vue";var i=r.exports,a=s({name:"TouchStop",props:{open:{type:Boolean,default:!0}}},function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{"rl-type":this.open?"stop":null}},[this._t("default")],2)},[],!1,null,null,null);a.options.__file="touchStop.vue";var l=a.exports;const{DEFAULT:u,TYPE:c,ATTR:d,NODE_EVENT:h,MASK_STATE:p,RL_STATE:f,EVT_LIST_DOM:m,EVT_LIST_WIN:v,CONF:b}={DEFAULT:{OPTIONS:{root:"body",zIndex:99},TYPE:"link",HIGHLIGHT_CONF:{position:"0,0,0,0",color:"rgba(0, 0, 0, .05)",radius:"0"}},TYPE:{STOP:"stop",LINK:"link",BUTTON:"button"},ATTR:{ROOT:"rl-root",NODE:"rl-node",TYPE:"rl-type",LINK_PRE:"rl-link-",HIGHLIGHT_PRE:"rl-highlight-"},NODE_EVENT:{SHOW:"rlShow",HIDE:"rlHide"},MASK_STATE:{SHOW:0,HIDE:1},RL_STATE:{INIT:0,STARTED:1,STOPED:2,DESTROYED:3},EVT_LIST_DOM:"touchstart touchmove touchend touchcancel click",EVT_LIST_WIN:"pageshow tf_touchReset",CONF:{CLICK_KEEP_TIME:1500,START_KEEP_TIME:2e3,END_EXTRA_DELAY:100}};var y=class{constructor(t={}){if(this.isScrolling=!1,this.scrollEndTimer=null,this.touchData={},this.initEventListener(),this.opt=Object.assign({},u.OPTIONS,t),this.$root="object"==typeof this.opt.root?this.opt.root:document.querySelector(this.opt.root),!this.$root||this.$root.hasAttribute(d.ROOT))return;this.$root.setAttribute(d.ROOT,""),this.$mask=this.createMask();const e={touchstart:this.onStart,touchmove:this.onMove,touchend:this.onEnd,touchcancel:this.onCancel,click:this.onClick,pageshow:this.onPageShow,tf_touchReset:this.onTfReset};this.domHandler=(t=>{const n=e[t.type];n&&n.call(this,t)}),this.rlState=f.INIT,this.startDelay=this.getStartDelay()}static getLinkProp(t,e){return t.getAttribute(d.LINK_PRE+e)}static setLinkProp(t,e,n){return t.setAttribute(d.LINK_PRE+e,n)}initEventListener(){window.addEventListener("scroll",t=>{this.isScrolling=!0,clearTimeout(this.scrollEndTimer),this.scrollEndTimer=setTimeout(()=>{this.isScrolling=!1},200)},!1),document.documentElement.addEventListener("touchstart",t=>{clearTimeout(this.touchData.timer),this.touchData={};const{pageX:e,pageY:n}=t.changedTouches[0];this.touchData.x0=e,this.touchData.y0=n},!1),document.documentElement.addEventListener("touchmove",t=>{const{pageX:e,pageY:n}=t.changedTouches[0];if(!this.touchData.direction){const{x0:t,y0:o}=this.touchData;this.touchData.d1=Math.abs((n-o)/(e-t)),this.touchData.direction=this.touchData.d1>1?"v":"h"}},!1),document.documentElement.addEventListener("touchend",t=>{"h"===this.touchData.direction&&(this.isScrolling=!0,this.touchData.timer=setTimeout(()=>{this.isScrolling=!1},2500))},!1)}getStartDelay(){let t=window.navigator.userAgent.toLowerCase();return t.indexOf("iphone os")>-1&&(t.indexOf("mqqbrowser")>-1||t.indexOf("micromessenger")>-1)?20:50}start(){this.rlState!==f.INIT&&this.rlState!==f.STOPED||(this.bind(),this.rlState=f.STARTED)}stop(){this.rlState===f.STARTED&&(this.targetStart=null,this.hideMask(),this.clearTimer(),this.unbind(),this.$mask.parentNode&&this.$mask.parentNode.removeChild(this.$mask),this.maskNode=this.maskState=null,this.resNode=this.resType=null,this.rlState=f.STOPED)}destroy(){this.rlState!==f.DESTROYED&&(this.rlState===f.STARTED&&this.stop(),this.$root&&this.$root.removeAttribute(d.ROOT),this.$root=this.opt=this.domHandler=null,this.$mask=this.$maskInner=null,this.rlState=f.DESTROYED)}bind(){m.split(" ").forEach(t=>{this.$root.addEventListener(t,this.domHandler,!1)}),v.split(" ").forEach(t=>{window.addEventListener(t,this.domHandler,!1)})}unbind(){m.split(" ").forEach(t=>{this.$root.removeEventListener(t,this.domHandler)}),v.split(" ").forEach(t=>{window.removeEventListener(t,this.domHandler)})}onPageShow(t){t.persisted&&this.hideMask()}onTfReset(t){this.hideMask()}onStart(t){if(this.targetStart=t.target,this.isScrolling)return void(this.isScrolling=!1);const e=this.getNode(t.target);e&&(this.resNode=e,this.resType=this.getType(e),this.resType!==c.STOP&&(clearTimeout(this.timerStart),this.timerStart=setTimeout(()=>{!this.isScrolling&&this.showMask(e,b.START_KEEP_TIME)},this.startDelay)))}onEnd(t){this.resType===c.BUTTON&&(clearTimeout(this.timerEnd),this.timerEnd=setTimeout(()=>{this.hideMask()},this.startDelay+b.END_EXTRA_DELAY))}onMove(t){this.hideMask()}onCancel(t){this.hideMask()}onClick(t){const e=this.getNode(t.target);if(this.targetStart&&t.target!==this.targetStart)return t.stopPropagation(),t.preventDefault(),this.targetStart.click(),void(this.targetStart=null);this.targetStart=null,e&&this.getType(e)===c.LINK&&(this.showMask(e,b.CLICK_KEEP_TIME),this.getATag(t.target)||setTimeout(()=>{const n=this.getLinkProps(e);if(n.href){const o=this.createLinkEle(n,e);t.defaultPrevented&&o.addEventListener("click",t=>{t.preventDefault()},!1),this.$link&&this.$link.parentNode&&this.$link.parentNode.removeChild(this.$link),this.$link=o,this.$root.appendChild(this.$link),o.click()}},0))}showMask(t,e=1500){if(!t)return;if(this.maskState===p.SHOW){if(this.maskNode===t)return;this.hideMask(this.maskNode)}if(this.maskState=p.SHOW,this.maskNode=t,clearTimeout(this.timerHide),this.timerHide=setTimeout(()=>{this.hideMask(t)},e),!this.dispatch(t,h.SHOW))return;"static"===getComputedStyle(t).position&&(t.style.position="relative"),this.$mask.style.top=0,this.$mask.style.left=0,this.$mask.style.right=0,this.$mask.style.bottom=0,this.$mask.style.removeProperty("width"),this.$mask.style.removeProperty("height"),this.$mask.style.visibility="visible";const n=this.getHighlightProps(t),{position:o,color:s,radius:r}=n,[i,a,l,u]=o.split(",");this.$maskInner.style.top=i,this.$maskInner.style.left=u,this.$maskInner.style.bottom=l,this.$maskInner.style.right=a,this.$maskInner.style.backgroundColor=s,this.$maskInner.style.borderRadius=r,t.appendChild(this.$mask)}hideMask(){this.maskState===p.SHOW&&this.maskNode&&(this.dispatch(this.maskNode,h.HIDE)&&(this.$mask.style.visibility="hidden"),this.maskState=p.HIDE)}clearTimer(){[this.timerStart,this.timerEnd,this.timerHide].forEach(t=>{clearTimeout(t)}),this.timerStart=this.timerEnd=this.timerHide=null}dispatch(t,e){const n=new Event(e,{bubbles:!0,cancelable:!0});return t&&t.dispatchEvent(n)}isResNode(t){return t&&(t.hasAttribute(d.NODE)||t.hasAttribute(d.TYPE))}getNode(t){let e=t,n=null;for(;e&&e!==this.$root.parentNode;){if(!n&&this.isResNode(e)&&(n=e),e.hasAttribute(d.ROOT))return e===this.$root?n:null;e=e.parentNode}return null}getType(t){return t&&t.getAttribute(d.TYPE)||u.TYPE}getHighlightProps(t){if(!t)return{};let e={};return Object.keys(u.HIGHLIGHT_CONF).forEach(n=>{const o=t.getAttribute(d.HIGHLIGHT_PRE+n);o&&(e[n]=o)}),Object.assign({},u.HIGHLIGHT_CONF,e)}getLinkProps(t){if(!t)return{};let e={};const n=t.attributes;for(let t=0;t<n.length;t++){const{name:o,value:s}=n[t];0===o.indexOf(d.LINK_PRE)&&(e[o.replace(d.LINK_PRE,"")]=s)}return e}createLinkEle(t){const e=document.createElement("a");return Object.keys(t).forEach(n=>{e.setAttribute(n,t[n])}),e.setAttribute(d.TYPE,c.STOP),e.setAttribute("data-nolog",""),e.style.display="none",e}getATag(t){for(;t&&t!==this.$root;){if("A"===t.nodeName)return t;t=t.parentNode}return null}createMask(){let t=document.createElement("div");return t.style.cssText=`position: absolute; visibility: hidden; z-index: ${this.opt.zIndex};            pointer-events: none; background: transparent;`,this.$maskInner=this.createMaskInner(),t.appendChild(this.$maskInner),t}createMaskInner(){let t=document.createElement("div");return t.style.cssText="position: absolute; pointer-events: none;",t}};n.d(e,"TouchActive",function(){return g}),n.d(e,"TouchStop",function(){return T}),n.d(e,"ResponsiveLink",function(){return y});const g={install:function(t){t.component("touch-active",i)}},T={install:function(t){t.component("touch-stop",l)}}}})});